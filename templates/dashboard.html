<!DOCTYPE html>
<html lang="en">
    {% include 'grid.html' %}
<head>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.4.0/Chart.min.js"></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/Chart.js/1.0.2/Chart.min.js'></script>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <article>
        <div class="plots">
        <h5> Houses Count by Overall Quality </h5>
       <canvas id ="chart" width=500% height=300%></canvas>
        <script>
        // barchart data
        var barData = {
            labels : [
            '{% for label in labels %}',
            '{{ label }}',
            '{% endfor %}'
            ],
    
            datasets : [{
            fillColor: 'rgba(153, 102, 255, 0.2)',
            strokeColor: 'rgba(153, 102, 255, 0.2)',
            highlightFill: 'rgba(153, 102, 255, 0.2)',
            pointColor: 'rgba(153, 102, 255, 0.2)',
            data : [
            '{% for value in values %}',
            "{{ value }}",
            '{% endfor %}'
                    ]
                        }
                        ]
                        }
            // get bar chart canvas
            var mychart = document.getElementById("chart").getContext("2d");
            steps = 10
            max = '{{max}}'
            // draw bar chart
            new Chart(mychart).Bar(barData, {
            scaleOverride: true,
            scaleSteps: steps,
            scaleStepWidth: Math.ceil(max / steps),
            scaleStartValue: 0,
            scaleShowVerticalLines: true,
            scaleShowGridLines : false,
            barShowStroke : true,
            scaleShowLabels: true,
            barPercentage: 1000
            }
            );
        </script>
        </div>

            <div class="plots">
            <h5>Average House Prices Over Time</h5>

            <div class="line_chart">
            <canvas id="myChart" responsive= false width="100" height="100"></canvas>
            </div>

            <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

            <script>
                const labels = [
                    '{% for x in labels_line %}',
                    "{{ x }}",
                    '{% endfor %}'
                ];
              
                const data = {
                  labels: labels,
                  datasets: [{
                    label: "none",
                    backgroundColor: 'rgb(255, 99, 132)',
                    borderColor: 'rgb(255, 99, 132)',
                    data: [
                        '{% for y in values_line %}',
                        '{{ y }}',
                        '{% endfor %}'
],
                  }]
                };
              
                const config = {
                  type: 'line',
                  data: data,
                  options: {
                    plugins: {
                        legend: {
                            display: false
                            }
                        }
                    }
                };
              </script>

            <script>
                const myChart = new Chart(
                document.getElementById('myChart'),
                config
                );
            </script>
            </div>

            <div class="plots">
            <h5>Count of: How Many Houses with Car Garages?</h5>

            <div class="line_chart">
            <canvas id="myChartp" responsive= false width="100" height="100"></canvas>
            </div>

            <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

            <script>
                const datap = {
                labels: [
                    '{% for x in labelsp %}',
                    "{{ x }}",
                    '{% endfor %}'
                ],
                datasets: [{
                    data: [
                    '{% for y in valuesp %}',
                    '{{ y }}',
                    '{% endfor %}'

                    ],
                    backgroundColor: [
                    'rgb(255, 99, 132)',
                    'rgb(54, 162, 235)',
                    'rgb(255, 205, 86)',
                    'rgb(75, 192, 192)',
                    'rgb(201, 203, 207)'

                    ],
                    hoverOffset: 5
                }]
                };
                const configp = {
                type: 'doughnut',
                 data: datap,
                 options: {
                    plugins: {
                        legend: {
                            display: false
                            }
                        }
                    }
                        };
                </script>

                <script>
                    const myChartp = new Chart(
                    document.getElementById('myChartp'),
                    configp
                    );
                </script>
                </div>

            

      </article>
</body>
</html>